var basic_params=["value","currency","content_name","content_type","content_ids","content_category","search_string","num_items","status","custom"],supported_params={ViewContent:{value:1,currency:1,content_name:1,content_type:1,content_ids:1,content_category:0,search_string:0,num_items:0,status:0,custom:1},Search:{value:1,currency:1,content_name:0,content_type:0,content_ids:1,content_category:1,search_string:1,num_items:0,status:0,custom:1},AddToCart:{value:1,currency:1,content_name:1,content_type:1,content_ids:1,content_category:0,search_string:0,num_items:0,status:0,custom:1},AddToWishlist:{value:1,currency:1,content_name:1,content_type:1,content_ids:1,content_category:1,search_string:0,num_items:0,status:0,custom:1},InitiateCheckout:{value:1,currency:1,content_name:1,content_type:1,content_ids:1,content_category:1,search_string:0,num_items:1,status:0,custom:1},AddPaymentInfo:{value:1,currency:1,content_name:0,content_type:1,content_ids:1,content_category:1,search_string:0,num_items:0,status:0,custom:1},Purchase:{value:2,currency:2,content_name:1,content_type:1,content_ids:1,content_category:0,search_string:0,num_items:1,status:0,custom:1},Lead:{value:1,currency:1,content_name:1,content_type:0,content_ids:0,content_category:1,search_string:0,num_items:0,status:0,custom:1},CompleteRegistration:{value:1,currency:1,content_name:1,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:1,custom:1},ViewContentPinterest:{value:1,currency:1,content_name:1,content_type:1,content_ids:1,content_category:0,search_string:0,num_items:0,status:0,custom:1},AddToCartPinterest:{value:1,currency:1,content_name:1,content_type:1,content_ids:1,content_category:0,search_string:0,num_items:0,status:0,custom:1},PurchasePinterest:{value:2,currency:2,content_name:1,content_type:1,content_ids:1,content_category:0,search_string:0,num_items:1,status:0,custom:1},LeadPinterest:{value:1,currency:1,content_name:1,content_type:0,content_ids:0,content_category:1,search_string:0,num_items:0,status:0,custom:1},CompleteRegistrationPinterest:{value:1,currency:1,content_name:1,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:1,custom:1},ViewContentSnapchat:{value:0,currency:1,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},PurchaseSnapchat:{value:0,currency:1,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},AddToCartSnapchat:{value:0,currency:1,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},AddPaymentInfoGA:{value:1,currency:1,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},AddToCartGA:{value:1,currency:1,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},AddToWishlistGA:{value:1,currency:1,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},InitiateCheckoutGA:{value:1,currency:1,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},ViewContentGA:{value:1,currency:1,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},PurchaseGA:{value:1,currency:1,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1},custom:{value:0,currency:0,content_name:0,content_type:0,content_ids:0,content_category:0,search_string:0,num_items:0,status:0,custom:1}},time_delay_events=["ViewContent","custom"];jQuery(document).ready(function(e){function t(t){var a=["ViewContent","Lead","AddToCart","AddToWishlist","InitiateCheckout","AddPaymentInfo","Purchase","CompleteRegistration","custom"];switch(t){case"Google Analytics":a=["ViewContentGA","AddToCartGA","AddToWishlistGA","InitiateCheckoutGA","AddPaymentInfoGA","PurchaseGA","custom"];break;case"Pinterest":a=["ViewContentPinterest","AddToCartPinterest","PurchasePinterest","CompleteRegistrationPinterest","LeadPinterest","custom"];break;case"Snapchat":a=["ViewContentSnapchat","AddToCartSnapchat","PurchaseSnapchat","custom"]}e("#fca-pc-modal-event-input option").each(function(){-1!==a.indexOf(e(this).attr("value"))?e(this).show():e(this).hide()})}function a(){e(".fca_delete_icon_confirm").off("click"),e(".fca_delete_icon_confirm").on("click",function(t){f=!0,t.stopPropagation(),e(this).closest(".fca_deletable_item").hide("fast",function(){e(this).remove()})}),e(".fca_controls_icon_pixel_pause").off("click"),e(".fca_controls_icon_pixel_pause").on("click",function(t){t.stopPropagation(),f=!0;var a=e(this).closest(".fca_pc_pixel_row").find(".fca-pc-pixel-json"),c=JSON.parse(a.val());c.paused=!0,a.val(JSON.stringify(c)),e(this).closest("tr").addClass("paused"),e(this).hide().siblings(".fca_controls_icon_pixel_play").show()}),e(".fca_controls_icon_pixel_play").off("click"),e(".fca_controls_icon_pixel_play").on("click",function(t){t.stopPropagation(),f=!0;var a=e(this).closest(".fca_pc_pixel_row").find(".fca-pc-pixel-json"),c=JSON.parse(a.val());c.paused=!1,a.val(JSON.stringify(c)),e(this).closest("tr").removeClass("paused"),e(this).hide().siblings(".fca_controls_icon_pixel_pause").show()}),e(".fca_controls_icon_pause").off("click"),e(".fca_controls_icon_pause").on("click",function(t){t.stopPropagation(),f=!0;var a=e(this).closest(".fca_pc_event_row").find(".fca-pc-json"),c=JSON.parse(a.val());c.paused=!0,a.val(JSON.stringify(c)),e(this).closest("tr").addClass("paused"),e(this).hide().siblings(".fca_controls_icon_play").show()}),e(".fca_controls_icon_play").off("click"),e(".fca_controls_icon_play").on("click",function(t){t.stopPropagation(),f=!0;var a=e(this).closest(".fca_pc_event_row").find(".fca-pc-json"),c=JSON.parse(a.val());c.paused=!1,a.val(JSON.stringify(c)),e(this).closest("tr").removeClass("paused"),e(this).hide().siblings(".fca_controls_icon_pause").show()}),e(".fca_delete_icon_cancel").off("click"),e(".fca_delete_icon_cancel").on("click",function(t){t.stopPropagation(),e(this).hide(),e(this).siblings(".fca_delete_icon").hide(),e(this).siblings(".fca_delete_button").show()}),e(".fca_delete_button").off("click"),e(".fca_delete_button").on("click",function(t){t.stopPropagation(),e(this).hide().siblings(".fca_delete_icon").show()}),e(".fca_pc_pixel_row").off("click"),e(".fca_pc_pixel_row").on("click",function(){e("#fca-pc-pixel-save").data("pixelID",e(this).attr("ID"));var t=JSON.parse(e(this).find(".fca-pc-pixel-json").val());switch(t.type){case"Conversions API":e("#fca-pc-modal-capi-input").val(t.capi),e("#fca-pc-modal-test-input").val(t.test);break;case"GA3":e("#fca-pc-modal-ga3-input").val(t.pixel);break;case"GA4":e("#fca-pc-modal-ga4-input").val(t.pixel);break;case"Pinterest":e("#fca-pc-modal-pinterest-input").val(t.pixel);break;case"Snapchat":e("#fca-pc-modal-snapchat-input").val(t.pixel);break;case"Custom Header Script":e("#fca-pc-modal-header-code").val(o(t.capi));break;default:e("#fca-pc-modal-pixel-input").val(t.pixel)}e("#fca-pc-modal-type-select").val(t.type).trigger("change"),e("#fca-pc-pixel-excluded-pages").val(t.excludes).trigger("change"),e("#fca-pc-pixel-modal").show(),e("#fca-pc-overlay").show()}),e(".fca_pc_event_row").off("click"),e(".fca_pc_event_row").on("click",function(){e("#fca-pc-event-save").data("eventID",e(this).attr("ID")),function(a){if(e("#fca_pc_custom_param_table").find(".fca_delete_icon_confirm").trigger("click"),supported_params.hasOwnProperty(a.event)){e("#fca-pc-modal-event-input").val(a.event).trigger("change");for(var c=0;c<basic_params.length;c++)a.parameters.hasOwnProperty(basic_params[c])?e(".fca-pc-"+basic_params[c]).val(a.parameters[basic_params[c]]):e(".fca-pc-"+basic_params[c]).val("");for(var n in a.parameters)-1===basic_params.indexOf(n)&&(e("#fca-pc-add-custom-param").trigger("click"),e(".fca-pc-input-parameter-name").last().val(n),e(".fca-pc-input-parameter-value").last().val(a.parameters[n]))}else{e("#fca-pc-modal-event-input").val("custom").trigger("change"),e(".fca-pc-event_name").val(a.event);for(var n in a.parameters)e("#fca-pc-add-custom-param").trigger("click"),e(".fca-pc-input-parameter-name").last().val(n),e(".fca-pc-input-parameter-value").last().val(a.parameters[n])}var i=a.hasOwnProperty("delay")?a.delay:0;e("#fca-pc-modal-delay-input").val(i);var o=a.hasOwnProperty("scroll")?a.scroll:0;switch(e("#fca-pc-modal-scroll-input").val(o),e("#fca-pc-modal-trigger-type-input").val(a.triggerType).trigger("change"),a.triggerType){case"post":e("#fca-pc-modal-post-trigger-input").children().each(function(){-1!==a.trigger.indexOf(e(this).val())?e(this).prop("selected",!0):e(this).prop("selected",!1)}).trigger("change");break;case"css":case"hover":e("#fca-pc-modal-css-trigger-input").val(a.trigger);break;case"url":e("#fca-pc-modal-url-trigger-input").val(a.trigger)}var p=a.hasOwnProperty("pixel_type")?a.pixel_type:"Facebook";e("#fca-pc-modal-event-pixel-type").val(p),e("#fca-pc-event-pixel-type-span").text(p),t(p)}(JSON.parse(e(this).find(".fca-pc-json").val())),e("#fca-pc-event-modal").show(),e("#fca-pc-overlay").show()}),e(".fca_delete_icon, .fca_controls_icon").not(".tooltipstered").tooltipster({contentAsHTML:!0,theme:["tooltipster-borderless","tooltipster-pixel-cat"]})}function c(){var t=[];e("#fca_pc_new_fb_event").hide(),e("#fca_pc_new_ga_event").hide(),e("#fca_pc_new_snapchat_event").hide(),e("#fca_pc_new_pinterest_event").hide(),e(".fca-pc-pixel-json").each(function(){var a=JSON.parse(e(this).val());t.push(a.type)}),-1===t.indexOf("GA3")&&-1===t.indexOf("GA4")||e("#fca_pc_new_ga_event").show(),-1!==t.indexOf("Pinterest")&&e("#fca_pc_new_pinterest_event").show(),-1!==t.indexOf("Snapchat")&&e("#fca_pc_new_snapchat_event").show(),-1===t.indexOf("Facebook Pixel")&&-1===t.indexOf("Conversions API")||e("#fca_pc_new_fb_event").show()}function n(t,c){if(fcaPcAdminData.debug&&console.log(t,c),t){t.attr("id",c.ID);n=c.type;if("GA3"===c.type&&(n="Google Analytics (GA3)"),"GA4"===c.type&&(n="Google Analytics (GA4)"),t.find(".fca-pc-type-td").text(n),t.find(".fca-pc-pixel-td").text(o(c.pixel)),t.removeClass("paused"),t.find(".fca_controls_icon_pixel_play").hide().siblings(".fca_controls_icon_pixel_pause").show(),c.paused&&(t.addClass("paused"),t.find(".fca_controls_icon_pixel_pause").hide().siblings(".fca_controls_icon_pixel_play").show()),c.test){var n;(n=t.find(".fca-pc-type-td")).text(n.text()+" (test mode active)")}}else e("#fca-pc-pixels").append(fcaPcAdminData.pixelTemplate.replace("{{TYPE}}",c.type).replace("{{PIXEL}}",c.pixel).replace("{{TEST}}",c.test).replace("{{ID}}",c.ID)),a();e("#"+c.ID).find(".fca-pc-pixel-json").val(JSON.stringify(c))}function i(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function o(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&amp;/g,"&")}function p(t,c){fcaPcAdminData.debug&&console.log(t,c);var n=c.hasOwnProperty("pixel_type")?c.pixel_type:"Facebook";t?(t.attr("id",c.ID),t.find(".fca-pc-event-pixel-td").text(n),t.find(".fca-pc-event-td").text(c.event),t.find(".fca-pc-trigger-td").text(s(c.trigger)),t.removeClass("paused"),t.find(".fca_controls_icon_play").hide().siblings(".fca_controls_icon_pause").show(),c.paused&&(t.addClass("paused"),t.find(".fca_controls_icon_pause").hide().siblings(".fca_controls_icon_play").show())):(e("#fca-pc-events").append(fcaPcAdminData.eventTemplate.replace("{{EVENT}}",c.event).replace("{{TYPE}}",s(c.pixel_type)).replace("{{TRIGGER}}",s(c.trigger)).replace("{{ID}}",c.ID)),a()),e("#"+c.ID).find(".fca-pc-json").val(JSON.stringify(c))}function s(t){if("string"==typeof t)return t;var a=[];return e("#fca-pc-modal-post-trigger-input option").filter(function(a,c){return-1!==t.indexOf(e(c).val())}).each(function(){a.push(e(this).text())}),a.join(", ")}function r(){var e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0,c=4294967296*Math.random()>>>0;return d[255&e]+d[e>>8&255]+d[e>>16&255]+d[e>>24&255]+"-"+d[255&t]+d[t>>8&255]+"-"+d[t>>16&15|64]+d[t>>24&255]+"-"+d[63&a|128]+d[a>>8&255]+"-"+d[a>>16&255]+d[a>>24&255]+d[255&c]+d[c>>8&255]+d[c>>16&255]+d[c>>24&255]}function l(){var t=[];return e(".fca-pc-pixel-json").each(function(){var a=JSON.parse(e(this).val());t.push(a.type)}),t}fcaPcAdminData.debug&&console.log(fcaPcAdminData),fcaPcAdminData.premium?(0==fcaPcAdminData.woo_active&&e(".fca-pc-woo_extra_params, .fca-pc-woo_delay").prop("checked",!1).prop("disabled",!0).closest("tr").addClass("fca-pc-integration-disabled"),0==fcaPcAdminData.edd_active&&e(".fca-pc-edd_extra_params, .fca-pc-edd_delay").prop("checked",!1).prop("disabled",!0).closest("tr").addClass("fca-pc-integration-disabled")):e(".fca-pc-user_parameters, .fca-pc-utm_support, #fca-pc-modal-delay-input, #fca-pc-modal-scroll-input, #fca-pc-add-custom-param, .fca-pc-woo_extra_params, .fca-pc-woo_delay, .fca-pc-edd_extra_params, .fca-pc-edd_delay, .fca-pc-advanced_matching, .fca-pc-amp_integration,.fca-pc-video_events,.fca-pc-edd_integration_pinterest,.fca-pc-edd_integration_snapchat,.fca-pc-woo_integration_pinterest,.fca-pc-woo_integration_snapchat,#fca-pc-pixel-excluded-pages").prop("checked",!1).prop("disabled",!0).closest("tr").addClass("fca-pc-integration-disabled"),e(".fca_pc_pixel_row").each(function(){n(e(this),JSON.parse(e(this).find(".fca-pc-pixel-json").val()))}),e(".fca_pc_event_row").each(function(){p(e(this),JSON.parse(e(this).find(".fca-pc-json").val()))}),e(".fca_pc_multiselect").select2(),e(".fca-pc-validation-helptext").not(".tooltipstered").tooltipster({trigger:"custom",timer:6e3,maxWidth:350,theme:["tooltipster-borderless","tooltipster-pixel-cat"]}),e(".fca_pc_tooltip, .fca_pc_event_tooltip, .fca_delete_icon, .fca_controls_icon, #fca_pc_new_pixel_id").not(".tooltipstered").tooltipster({contentAsHTML:!0,theme:["tooltipster-borderless","tooltipster-pixel-cat"]}),e("#fca-pc-modal-pixel-input").on("input",function(t){var a=e(this).val();e("#fca-pc-pixel-helptext").tooltipster("hide"),/^\d+$/.test(a)||""===a||(e(this).val(a.replace(/[^0-9\.]+/g,"")),e("#fca-pc-pixel-helptext").tooltipster("open"))}),e("#fca-pc-modal-pinterest-input").on("input",function(t){var a=e(this).val();e("#fca-pc-pinterest-helptext").tooltipster("hide"),/^\d+$/.test(a)||""===a||(e(this).val(a.replace(/[^0-9\.]+/g,"")),e("#fca-pc-pinterest-helptext").tooltipster("open"))}),e("#fca-pc-modal-ga3-input").on("input",function(t){var a=e(this).val();e("#fca-pc-ga3-helptext").tooltipster("hide"),!1===/^([UA-])+(([a-zA-Z0-9]){2,})$/.test(a)&&e("#fca-pc-ga3-helptext").tooltipster("open")}),e("#fca-pc-modal-ga4-input").on("input",function(t){var a=e(this).val();e("#fca-pc-ga4-helptext").tooltipster("hide"),!1===/^([G-])+(([a-zA-Z0-9]){2,})$/.test(a)&&e("#fca-pc-ga4-helptext").tooltipster("open")}),e(".fca-pc-nav a").on("click",function(){e(".fca-pc-nav a.selected").removeClass("selected"),e(this).addClass("selected"),e(".fca-pc-nav a").each(function(){e(e(this).data("target")).hide()}),e(e(this).data("target")).show(),e(this).trigger("blur")}),e(".fca-pc-nav a").first().trigger("click"),e(".fca_pc_integrations_table th").on("click",function(){e(this).next().find("input").trigger("click")}),e("#fca_pc_new_fb_event").on("click",function(){e("#fca-pc-event-save").data("eventID",""),e(".fca-pc-content_name").val("{post_title}"),e(".fca-pc-content_type").val("product"),e(".fca-pc-content_ids").val("{post_id}"),e(".fca-pc-content_category").val("{post_category}"),e(".fca-pc-search_string").val(""),e(".fca-pc-num_items").val(""),e(".fca-pc-status").val(""),e(".fca-pc-value").val(""),e(".fca-pc-currency").val(""),e(".fca-pc-event_name").val(""),e("#fca-pc-modal-post-trigger-input").val("").trigger("change"),e("#fca-pc-modal-css-trigger-input").val(""),e("#fca-pc-modal-url-trigger-input").val(""),e("#fca-pc-modal-delay-input").val(0),e("#fca-pc-modal-scroll-input").val(0),t("Facebook"),e("#fca-pc-modal-event-pixel-type").val("Facebook"),e("#fca-pc-event-pixel-type-span").text("Facebook"),e("#fca-pc-modal-event-input").val("ViewContent").trigger("change"),e(".fca-pc-param-toggle").not(":visible").trigger("click"),e("#fca-pc-event-modal").show(),e("#fca-pc-overlay").show()}),e("#fca_pc_new_ga_event").on("click",function(){e("#fca-pc-event-save").data("eventID",""),e(".fca-pc-content_name").val("{post_title}"),e(".fca-pc-content_type").val("product"),e(".fca-pc-content_ids").val("{post_id}"),e(".fca-pc-content_category").val("{post_category}"),e(".fca-pc-search_string").val(""),e(".fca-pc-num_items").val(""),e(".fca-pc-status").val(""),e(".fca-pc-value").val(""),e(".fca-pc-currency").val(""),e(".fca-pc-event_name").val(""),e("#fca-pc-modal-post-trigger-input").val("").trigger("change"),e("#fca-pc-modal-css-trigger-input").val(""),e("#fca-pc-modal-url-trigger-input").val(""),e("#fca-pc-modal-delay-input").val(0),e("#fca-pc-modal-scroll-input").val(0),e("#fca-pc-modal-event-pixel-type").val("Google Analytics"),e("#fca-pc-event-pixel-type-span").text("Google Analytics"),t("Google Analytics"),e("#fca-pc-modal-event-input").val("ViewContentGA").trigger("change"),e("#fca-pc-event-modal").show(),e("#fca-pc-overlay").show()}),e("#fca_pc_new_pinterest_event").on("click",function(){e("#fca-pc-event-save").data("eventID",""),e(".fca-pc-content_name").val("{post_title}"),e(".fca-pc-content_type").val("product"),e(".fca-pc-content_ids").val("{post_id}"),e(".fca-pc-content_category").val("{post_category}"),e(".fca-pc-search_string").val(""),e(".fca-pc-num_items").val(""),e(".fca-pc-status").val(""),e(".fca-pc-value").val(""),e(".fca-pc-currency").val(""),e(".fca-pc-event_name").val(""),e("#fca-pc-modal-post-trigger-input").val("").trigger("change"),e("#fca-pc-modal-css-trigger-input").val(""),e("#fca-pc-modal-url-trigger-input").val(""),e("#fca-pc-modal-delay-input").val(0),e("#fca-pc-modal-scroll-input").val(0),t("Pinterest"),e("#fca-pc-modal-event-pixel-type").val("Pinterest"),e("#fca-pc-event-pixel-type-span").text("Pinterest"),e("#fca-pc-modal-event-input").val("ViewContentPinterest").trigger("change"),e(".fca-pc-param-toggle").not(":visible").trigger("click"),e("#fca-pc-event-modal").show(),e("#fca-pc-overlay").show()}),e("#fca_pc_new_snapchat_event").on("click",function(){e("#fca-pc-event-save").data("eventID",""),e(".fca-pc-currency").val(""),e(".fca-pc-event_name").val(""),e("#fca-pc-modal-post-trigger-input").val("").trigger("change"),e("#fca-pc-modal-css-trigger-input").val(""),e("#fca-pc-modal-url-trigger-input").val(""),e("#fca-pc-modal-delay-input").val(0),e("#fca-pc-modal-scroll-input").val(0),t("Snapchat"),e("#fca-pc-modal-event-pixel-type").val("Snapchat"),e("#fca-pc-event-pixel-type-span").text("Snapchat"),e("#fca-pc-modal-event-input").val("ViewContentSnapchat").trigger("change"),e(".fca-pc-param-toggle").not(":visible").trigger("click"),e("#fca-pc-event-modal").show(),e("#fca-pc-overlay").show()}),e("#fca_pc_new_pixel_id").on("click",function(){e("#fca-pc-pixel-save").data("pixelID",""),e("#fca-pc-modal-type-select").val("Facebook Pixel").trigger("change"),e("#fca-pc-modal-pixel-input").val(""),e("#fca-pc-modal-capi-input").val(""),e("#fca-pc-modal-test-input").val(""),e("#fca-pc-modal-ga3-input").val(""),e("#fca-pc-modal-ga4-input").val(""),e("#fca-pc-modal-pinterest-input").val(""),e("#fca-pc-modal-header-code").val(""),e("#fca-pc-pixel-excluded-pages").val("").trigger("change"),e("#fca-pc-capi-input-tr").hide(),e("#fca-pc-test-input-tr").hide(),e("#fca-pc-pixel-modal").show(),e("#fca-pc-overlay").show()}),e("#fca-pc-modal-type-select").on("change",function(){var t=e(this).val();switch(e("#fca-pc-capi-input-tr").hide(),e("#fca-pc-test-input-tr").hide(),e("#fca-pc-pixel-input-tr").hide(),e("#fca-pc-ga3-input-tr").hide(),e("#fca-pc-ga4-input-tr").hide(),e(".fca-pc-header-input-tr").hide(),e("#fca_pc_capi_info").hide(),e("#fca-pc-pinterest-input-tr").hide(),e("#fca-pc-snapchat-input-tr").hide(),t){case"Conversions API":e("#fca-pc-pixel-input-tr").show(),e("#fca-pc-capi-input-tr").show(),e("#fca-pc-test-input-tr").show(),e("#fca_pc_capi_info").show();break;case"Facebook Pixel":e("#fca-pc-pixel-input-tr").show();break;case"GA3":e("#fca-pc-ga3-input-tr").show();break;case"GA4":e("#fca-pc-ga4-input-tr").show();break;case"Pinterest":e("#fca-pc-pinterest-input-tr").show();break;case"Snapchat":e("#fca-pc-snapchat-input-tr").show();break;case"Custom Header Script":e(".fca-pc-header-input-tr").show()}}),e("#fca_pc_woo_toggle_link").on("click",function(){e("#fca-pc-event-modal").hide(),e(".fca_pc_tooltip").tooltipster("hide"),e("#fca-pc-overlay").hide(),e("[data-target|='#fca-pc-e-commerce']").trigger("click")}),e("#fca-pc-event-cancel").on("click",function(){e("#fca-pc-event-modal").hide(),e(".fca_pc_tooltip").tooltipster("hide"),e("#fca-pc-overlay").hide()}),e("#fca-pc-pixel-cancel").on("click",function(){e("#fca-pc-pixel-modal").hide(),e(".fca_pc_tooltip").tooltipster("hide"),e("#fca-pc-overlay").hide()}),e(".fca-pc-edd_integration").on("click",function(){var t=l();-1!==t.indexOf("Facebook Pixel")||-1!==t.indexOf("Conversions API")||(alert("Please set up a Facebook Pixel to use this feature"),e(this).prop("checked",!1))}),e(".fca-pc-woo_integration").on("click",function(){var t=l();-1!==t.indexOf("Facebook Pixel")||-1!==t.indexOf("Conversions API")||(alert("Please set up a Facebook Pixel to use this feature"),e(this).prop("checked",!1))}),e(".fca-pc-edd_integration_ga").on("click",function(){var t=l();-1!==t.indexOf("GA3")||-1!==t.indexOf("GA4")||(alert("Please set up a Google Analytics pixel to use this feature"),e(this).prop("checked",!1))}),e(".fca-pc-woo_integration_ga").on("click",function(){var t=l();-1!==t.indexOf("GA3")||-1!==t.indexOf("GA4")||(alert("Please set up a Google Analytics pixel to use this feature"),e(this).prop("checked",!1))}),e(".fca-pc-woo_integration_pinterest").on("click",function(){-1!==l().indexOf("Pinterest")||(alert("Please set up your Pinterest Tag ID to use this feature"),e(this).prop("checked",!1))}),e(".fca-pc-edd_integration_pinterest").on("click",function(){-1!==l().indexOf("Pinterest")||(alert("Please set up your Pinterest Tag ID to use this feature"),e(this).prop("checked",!1))}),e(document).on("keyup",function(t){var a=e(t.target).hasClass("select2-search__field");"Escape"!=t.key||a||(e("#fca-pc-event-modal").is(":visible")&&e("#fca-pc-event-cancel").trigger("click"),e("#fca-pc-pixel-modal").is(":visible")&&e("#fca-pc-pixel-cancel").trigger("click"))}),e("#fca-pc-pixel-save").on("click",function(){var t=e("#fca-pc-modal-type-select").val();if(e(".fca_pc_tooltip").tooltipster("hide"),e(".fca-pc-validation-helptext").tooltipster("hide"),"Facebook Pixel"!==t||""!=e("#fca-pc-modal-pixel-input").val())if("Pinterest"!==t||""!=e("#fca-pc-modal-pinterest-input").val())if("Conversions API"!==t||""!=e("#fca-pc-modal-capi-input").val())if("GA3"!==t||""!=e("#fca-pc-modal-ga3-input").val())if("GA4"!==t||""!=e("#fca-pc-modal-ga4-input").val())if("Custom Header Script"!==t||""!=e("#fca-pc-modal-header-code").val()){var a={};switch(a.type=e("#fca-pc-modal-type-select").val(),a.capi="",a.test="",a.type){case"Conversions API":a.test=e("#fca-pc-modal-test-input").val(),a.pixel=e("#fca-pc-modal-pixel-input").val(),a.capi=e("#fca-pc-modal-capi-input").val();break;case"GA3":a.pixel=e("#fca-pc-modal-ga3-input").val();break;case"GA4":a.pixel=e("#fca-pc-modal-ga4-input").val();break;case"Pinterest":a.pixel=e("#fca-pc-modal-pinterest-input").val();break;case"Snapchat":a.pixel=e("#fca-pc-modal-snapchat-input").val();break;case"Custom Header Script":a.capi=i(e("#fca-pc-modal-header-code").val()),a.pixel=i(e("#fca-pc-modal-header-code").val().substr(0,48));break;default:a.pixel=e("#fca-pc-modal-pixel-input").val()}a.excludes=e("#fca-pc-pixel-excluded-pages").val(),e(this).data("pixelID")?(a.ID=e(this).data("pixelID"),a.paused=e("#"+a.ID).hasClass("paused"),n(e("#"+a.ID),a)):(a.paused=!1,a.ID=r(),n(!1,a)),e(".fca_pc_onboarding").hide(),e("#fca-pc-events-table").removeClass("disabled"),e("#fca-pc-overlay").hide(),e("#fca-pc-pixel-modal").hide(),c()}else alert("Please enter a value for header script");else alert("Google Analytics Property ID is required for this pixel type");else alert("Google Universal Analytics ID is required for this pixel type");else alert("Conversions API Token is required for this pixel type");else alert("Please enter the Pixel ID");else alert("Please enter the Pixel ID")}),e("#fca-pc-event-save").on("click",function(){var t=!0;e(".fca_pc_tooltip").tooltipster("hide");switch(e("#fca-pc-modal-trigger-type-input").val()){case"post":selected=e("#fca-pc-modal-post-trigger-input").val(),0===selected.length&&(e("#fca-pc-modal-post-trigger-input").closest("tr").find(".fca_pc_tooltip").tooltipster("show"),t=!1);break;case"css":case"hover":selected=e("#fca-pc-modal-css-trigger-input").val(),0===selected.length&&(e("#fca-pc-modal-css-trigger-input").closest("tr").find(".fca_pc_tooltip").tooltipster("show"),t=!1);break;case"url":selected=e("#fca-pc-modal-url-trigger-input").val(),0===selected.length&&(e("#fca-pc-modal-url-trigger-input").closest("tr").find(".fca_pc_tooltip").tooltipster("show"),t=!1)}if(e(".fca-required-param").each(function(){e(this).find("input").val()||(e("#fca-pc-show-param").trigger("click"),e(this).find(".fca_pc_tooltip").tooltipster("show"),t=!1)}),e(".fca-pc-event_name").val()||"custom"!==e("#fca-pc-modal-event-input").val()||(e(".fca-pc-event_name").closest("tr").find(".fca_pc_tooltip").tooltipster("show"),t=!1),!t)return!1;var a={};switch(a.triggerType=e("#fca-pc-modal-trigger-type-input").val(),a.triggerType){case"css":case"hover":a.trigger=e("#fca-pc-modal-css-trigger-input").val();break;case"post":a.trigger=e("#fca-pc-modal-post-trigger-input").val();break;case"url":a.trigger=e("#fca-pc-modal-url-trigger-input").val()}if(a.parameters={},a.pixel_type=e("#fca-pc-modal-event-pixel-type").val(),"custom"===e("#fca-pc-modal-event-input").val())a.event=e(".fca-pc-event_name").val();else{a.event=e("#fca-pc-modal-event-input").val();for(var c=0;c<basic_params.length;c++){var n=basic_params[c];supported_params[a.event][n]>0&&""!=e(".fca-pc-"+n).val()&&(a.parameters[n]=e(".fca-pc-"+n).val())}}e(".fca-pc-input-parameter-name").each(function(t,c){var n=e(this).val(),i=e(this).parent("td").next().find(".fca-pc-input-parameter-value").val();n&&i&&(a.parameters[n]=i)}),a.delay=e("#fca-pc-modal-delay-input").val(),a.scroll=e("#fca-pc-modal-scroll-input").val(),a.apiAction="custom"===e("#fca-pc-modal-event-input").val()?"trackCustom":"track",e(this).data("eventID")?(a.ID=e(this).data("eventID"),a.paused=e("#"+a.ID).hasClass("paused"),p(e("#"+a.ID),a)):(a.ID=r(),p(!1,a)),e("#fca-pc-overlay").hide(),e("#fca-pc-event-modal").hide()}),e("#fca-pc-modal-event-input").on("change",function(){var t=e(this).val();e(".fca-active-param").removeClass("fca-active-param"),e(".fca-required-param").removeClass("fca-required-param"),e(".fca_pc_tooltip").tooltipster("hide"),e("#fca_pc_tooltip_viewcontent, #fca_pc_tooltip_lead").hide(),e(".fca-required-param-tooltip").hide();for(item in supported_params[t])supported_params[t][item]>0&&(e("#fca_pc_param_"+item).addClass("fca-active-param"),2===supported_params[t][item]&&(e("#fca_pc_param_"+item).addClass("fca-required-param"),e(".fca-required-param-tooltip").show(),e("#fca-pc-show-param").trigger("click")));"post"===e("#fca-pc-modal-trigger-type-input").val()?(e("#fca-pc-modal-delay-input, #fca-pc-modal-scroll-input").closest("tr").show(),e("#fca_pc_tooltip_viewcontent").show()):(e("#fca-pc-modal-delay-input, #fca-pc-modal-scroll-input").closest("tr").hide(),e("#fca_pc_tooltip_lead").show()),e("#fca_pc_param_custom").addClass("fca-active-param"),"custom"===t?e("#fca_pc_param_event_name").show():e("#fca_pc_param_event_name").hide()}),e(".fca-pc-param-toggle").on("click",function(){e(".fca-pc-param-row").hide(),"fca-pc-show-param"===e(this).attr("id")?(e("#fca-pc-show-param").hide(),e("#fca-pc-hide-param").show(),e("#fca-pc-param-help").show(),e(".fca-active-param").show()):(e("#fca-pc-hide-param").hide(),e("#fca-pc-show-param").show(),e("#fca-pc-param-help").hide())}),e(".fca-pc-woo_feed").on("change",function(){this.checked?e(".fca-pc-woo-feed-settings").not(".fca-pc-woo-advanced-feed-settings").show("fast"):e(".fca-pc-woo-feed-settings").hide("fast")}).trigger("change"),e(".fca-pc-feed-toggle").on("click",function(){e(".fca-pc-feed-toggle").hide(),"fca-pc-show-feed-settings"===e(this).attr("id")?(e("#fca-pc-show-feed-settings").hide(),e("#fca-pc-hide-feed-settings").show(),e(".fca-pc-woo-advanced-feed-settings").show()):(e("#fca-pc-show-feed-settings").show(),e("#fca-pc-hide-feed-settings").hide(),e(".fca-pc-woo-advanced-feed-settings").hide())}),e(".fca-pc-edd_feed").on("change",function(){this.checked?e(".fca-pc-edd-feed-settings").show("fast"):e(".fca-pc-edd-feed-settings").hide("fast")}).trigger("change"),fcaPcAdminData.premium&&e("#fca-pc-add-custom-param").on("click",function(){e("#fca_pc_custom_param_table").append(fcaPcPremiumData.customParamTemplate),a()}),e("#fca-pc-modal-trigger-type-input").on("change",function(){e(".fca_pc_multiselect").select2("close"),e("#fca-pc-post-input-tr, #fca-pc-css-input-tr, #fca-pc-url-input-tr").hide(),e("#fca-pc-modal-event-input").trigger("change"),e("#fca-pc-"+e(this).val()+"-input-tr").show(),"hover"===e(this).val()&&e("#fca-pc-css-input-tr").show()}).trigger("change"),a();var f=null;window.onbeforeunload=function(){return f},e("input, select").on("input, change",function(){f=!0}),e("#fca_pc_save").on("click",function(){f=null}),e("#fca_pc_main_form, #fca-pc-marketing-metabox").show(),0===e(".fca-pc-pixel-json").length?(e("#fca_pc_new_pixel_id").trigger("click"),e("#fca-pc-events-table").addClass("disabled")):e(".fca_pc_onboarding").hide(),c();for(var d=[],_=0;_<256;_++)d[_]=(_<16?"0":"")+_.toString(16)});