!function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=6)}([function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){!function(){e.exports=this.wp.plugins}()},function(e,t){!function(){e.exports=this.wp.editPost}()},function(e,t,n){"use strict";n.r(t);var r=n(4),l=n(1),p=n(5),u=n(2),i=n(3),s=n(0);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=Object(i.select)("core/editor"),f=o.isEditedPostDirty,d=o.getCurrentPost,h=o.getCurrentPostId,b=o.isCleanNewPost,c=Object(i.dispatch)("core/notices"),w=c.createSuccessNotice,g=c.createErrorNotice;Object(r.registerPlugin)("mc4wp-plugin-post-campaign-document-panel",{render:function(){var e,t=d().meta,n=m(Object(u.useState)(null!==(e=t.mc4wp_mailchimp_campaign)&&void 0!==e?e:{}),2),r=n[0],i=n[1],a=m(Object(u.useState)(!1),2),o=a[0],c=a[1];return React.createElement(p.PluginDocumentSettingPanel,{name:"mc4wp-post-campaign-panel",title:"Mailchimp for WordPress",className:"mc4wp-post-campaign-panel"},React.createElement("div",{className:"components-panel__row"},r.id?Object(s.__)("This post has an email campaign in Mailchimp. Use the button below to update the campaign with the contents of this post.","mailchimp-for-wp"):Object(s.__)("Use the button below to create an email campaign in Mailchimp based on the contents of this post.","mailchimp-for-wp")),React.createElement("div",{className:"components-panel__row"},React.createElement(l.Button,{isBusy:o,onClick:function(){var e;o||(null===(e=h())||f()||b()?window.alert(Object(s.__)("There are unsaved changes. Please save the post first.","mailchimp-for-wp")):r.id&&!window.confirm(Object(s.__)("Heads up! This will overwrite the content in your existing Mailchimp campaign. Are you sure you want to proceed?","mailchimp-for-wp"))||(c(!0),fetch("".concat(window.ajaxurl,"?action=mc4wp_create_campaign_of_post&post_id=").concat(e)).then(function(e){return e.json()}).then(function(e){var t=e.success,n=e.data;if(!t)throw new Error("Not successfully");w(r.id?Object(s.__)("The Mailchimp campaign was updated. Go to the","mailchimp-for-wp"):Object(s.__)("The Mailchimp campaign is created. Go to the","mailchimp-for-wp"),{actions:[{label:"campaign.",url:"https://admin.mailchimp.com/campaigns/edit?id="+n.web_id}]}),i(n)}).catch(function(){var e=r.id?Object(s.__)("Error updating campaign. Check the debug log for errors.","mailchimp-for-wp"):Object(s.__)("Error creating campaign. Check the debug log for errors.","mailchimp-for-wp");g(e)}).finally(function(){c(!1)})))},disabled:o,isPrimary:!0},r.id?Object(s.__)("Update campaign","mailchimp-for-wp"):Object(s.__)("Create campaign","mailchimp-for-wp"))),r.id&&React.createElement("div",{className:"components-panel__row"},React.createElement(l.ExternalLink,{href:"https://admin.mailchimp.com/campaigns/edit?id="+r.web_id},Object(s.__)("Go to campaign in Mailchimp.","mailchimp-for-wp"))))},icon:React.createElement("svg",null,React.createElement("path",{fill:"#a0a5aa",width:"24",height:"24",viewBox:"0 0 24 24",d:"M 8.0097656 0.052734375 A 8 8 0 0 0 0.009765625 8.0527344 A 8 8 0 0 0 8.0097656 16.052734 A 8 8 0 0 0 16.009766 8.0527344 A 8 8 0 0 0 8.0097656 0.052734375 z M 9.2597656 4.171875 C 9.3205456 4.171875 9.9296146 5.0233822 10.611328 6.0664062 C 11.293041 7.1094313 12.296018 8.5331666 12.841797 9.2285156 L 13.833984 10.492188 L 13.316406 11.041016 C 13.031321 11.342334 12.708299 11.587891 12.599609 11.587891 C 12.253798 11.587891 11.266634 10.490156 10.349609 9.0859375 C 9.8610009 8.3377415 9.4126385 7.7229 9.3515625 7.71875 C 9.2904825 7.71455 9.2402344 8.3477011 9.2402344 9.1269531 L 9.2402344 10.544922 L 8.5839844 10.982422 C 8.2233854 11.223015 7.8735746 11.418294 7.8066406 11.417969 C 7.7397106 11.417644 7.4861075 10.997223 7.2421875 10.482422 C 6.9982675 9.9676199 6.6560079 9.3946444 6.4824219 9.2089844 L 6.1679688 8.8710938 L 6.0664062 9.34375 C 5.7203313 10.974656 5.6693219 11.090791 5.0917969 11.505859 C 4.5805569 11.873288 4.2347982 12.017623 4.1914062 11.882812 C 4.1839062 11.859632 4.1482681 11.574497 4.1113281 11.25 C 3.9708341 10.015897 3.5347399 8.7602861 2.8105469 7.5019531 C 2.5672129 7.0791451 2.5711235 7.0651693 2.9765625 6.8320312 C 3.2046215 6.7008903 3.5466561 6.4845105 3.7363281 6.3515625 C 4.0587811 6.1255455 4.1076376 6.1466348 4.4941406 6.6679688 C 4.8138896 7.0992628 4.9275606 7.166285 4.9941406 6.96875 C 5.0960956 6.666263 6.181165 5.8574219 6.484375 5.8574219 C 6.600668 5.8574219 6.8857635 6.1981904 7.1171875 6.6152344 C 7.3486105 7.0322784 7.5790294 7.3728809 7.6308594 7.3730469 C 7.7759584 7.3735219 7.9383234 5.8938023 7.8339844 5.5195312 C 7.7605544 5.2561423 7.8865035 5.0831575 8.4453125 4.6796875 C 8.8327545 4.3999485 9.1989846 4.171875 9.2597656 4.171875 z "}))})}]);
//# sourceMappingURL=post-campaign.min.js.map