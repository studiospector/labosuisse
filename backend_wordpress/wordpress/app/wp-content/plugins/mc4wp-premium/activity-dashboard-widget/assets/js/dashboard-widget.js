!function n(a,o,r){function l(t,e){if(!o[t]){if(!a[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(c)return c(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}i=o[t]={exports:{}},a[t][0].call(i.exports,function(e){return l(a[t][1][e]||e)},i,i.exports,n,a,o,r)}return o[t].exports}for(var c="function"==typeof require&&require,e=0;e<r.length;e++)l(r[e]);return l}({1:[function(e,t,i){"use strict";var n=document.getElementById("mc4wp-activity-mailchimp-list"),a=document.getElementById("mc4wp-activity-chart"),o=document.getElementById("mc4wp-activity-view"),r=document.getElementById("mc4wp-activity-period"),l=(o.addEventListener("change",c),n.addEventListener("change",c),r.addEventListener("change",c),localStorage.getItem("mc4wp_activity_list"));function c(){localStorage.setItem("mc4wp_activity_list",n.value),localStorage.setItem("mc4wp_activity_view",o.value),localStorage.setItem("mc4wp_activity_period",r.value),window.jQuery.getJSON(window.ajaxurl,{action:"mc4wp_get_activity",mailchimp_list_id:n.value,period:r.value,view:o.value},function(e){var t=e.data;if(e.data&&e.data.length){for(var i=0;i<t.length;i++)t[i][0].v=new Date(t[i][0].v);var e=t,n={hAxis:{title:"Date",format:"MMM d"},vAxis:{},explorer:{maxZoomOut:2,keepInBounds:!0},animation:{duration:1e3,easing:"linear",startup:!0},height:400};(e=new("size"===o.value?u:d)(e,n)).draw()}else a.innerHTML="Oops. Something went wrong while fetching data from Mailchimp."})}function d(e,t){var i=new window.google.visualization.DataTable;return i.addColumn("date","Date"),i.addColumn("number","New Subscribers"),i.addColumn("number","Unsubscribes"),i.addRows(e),t.isStacked=!0,t.title="Activity for list ".concat(n.options[n.selectedIndex].innerHTML),t.vAxis.title="Subscriber Activity",{draw:function(){new window.google.visualization.ColumnChart(a).draw(i,t)}}}function u(e,t){var i=new window.google.visualization.DataTable;return i.addColumn("date","Date"),i.addColumn("number","Subscribers"),i.addRows(e),t.title="List size for list ".concat(n.options[n.selectedIndex].innerHTML),t.vAxis.title="Number of Subscribers",t.legend={position:"none"},{draw:function(){new window.google.charts.Line(a).draw(i,t)}}}"string"==typeof l&&l.length&&(n.value=l),"string"==typeof(l=localStorage.getItem("mc4wp_activity_view"))&&l.length&&(o.value=l),(l=localStorage.getItem("mc4wp_activity_period"))&&l.length&&(r.value=l),void 0===window.google&&null!==n.offsetParent&&((l=document.createElement("script")).onload=function(){window.google.load("visualization","1",{packages:["corechart","bar","line"]}),window.google.setOnLoadCallback(c)},l.src="https://www.google.com/jsapi",document.head.appendChild(l))},{}]},{},[1]);